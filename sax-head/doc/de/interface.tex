\chapter{ISaX}
\label{cha:api}
\minitoc

\section{Die Variablen API Datei}
In diesem Kapitel sind alle Variablen die in einer Variablen 
API Datei stehen k"onnen erkl"ahrt. Die Variablen API wird am
Ende der Konfiguration durch die SaX2 eigene Konfigurationsoberfl"ache
erstellt, dies ist aber nicht zwingend notwendig. Sobald 
eine Variablen API existiert kann diese verwendet werden um 
eine Konfigurationsdatei zu erzeugen. In Verbindung mit dem 
\textit{ImportAPI} Modul und dem \textit{CreateSections} Modul
wird aus der API Datei eine X11 Konfigurationsdatei erstellt. Das
Schreiben oder "Andern sowie das Einlesen einer X11 Konfigurationsdatei
bildet den \textbf{isax}. 


\section{API Datei Schl"usselwort-Erleuterungen}
Die im n"achsten Abschnitt gelisteten Tabellen verwenden in der 
Formatbeschreibung unterschiedliche Schl"usselworte deren Bedeutung in der
folgenden Liste vorab erl"autert wird.

\begin{itemize}
\item \textbf{String:}\\
Kennzeichnet eine beliebige Folge von Zeichen, die \textbf{nicht}
in Anf"uhrungszeichen eingebettet ist.
\item \textbf{Subsection:}\\
Kennzeichnet den Namen einer subsection in der X11 konfiguration
Diesem Wort folgt ein Eintrag in der Subsektion
\item \textbf{Flagname:}\\
Kennzeichnet den Namen eines Serverflags. Diesem Wort folgt der
Wert zu einem Serverflag
\item \textbf{Integer:}\\
Kennzeichnet eine ganze Zahl. Wird zumeist im Zusammenhang 
mit Variablen zur Gr"ossendefinition verwendet.
\item \textbf{ButtonX:}\\
Kennzeichnet die Nummer des Mausbuttons der fuer die Radbewegung
in X Richtung adaptiert werden soll.
\item \textbf{ButtonY:}\\
Kennzeichnet die Nummer des Mausbuttons der fuer die Radbewegung
in Y Richtung adaptiert werden soll.
\item \textbf{Clocks:}\\
Kennzeichnet eine durch Leerzeichen getrennte Liste mit Clock-Werten  
Diese Werte k"onnen sowohl ganzzahlig als auch gebrochen sein. 
\item \textbf{Mode:}\\
Kennzeichnet einen Aufl"osungsstring der Form \verb+[Xpixel]x[Ypixel]+
\item \textbf{Algorithm:}\\
Kennzeichnet die beiden m"oglichen Algorithmen
\textit{CheckDesktopGeometry} oder \textit{IteratePrecisely}
\item \textbf{Modeline:}\\
Kennzeichnet einen Modelinestring, beginnend mit einem in 
Anf"uhrungszeichen stehenden Namen der einem \textit{Aufl"osungsstring}
entsprechen muss, gefolgt von der RamDAC Geschwindigkeit und 8 weiteren 
timing parametern
\item \textbf{Sync:}\\
Kennzeichnet einen Frequenzbereich. Die Angabe erfolgt durch einen 
Zahlenbereich im Format: \verb+[Minimum]-[Maximum]+ 
\item \textbf{Links,Rechts,Oben,Unten}\\
Kennzeichnet eine Bildschirmposition. Der Wert entspricht einem 
Identifier-string entsprechend des Bildschirms. Liegt an dieser
Stelle kein Schirm so ist \verb+<none>+ einzutragen
\end{itemize}

\section{API Datei "Ubersichtstabellen aller m"oglichen Variablen}
Die Inhalte jeder Tabelle kenzeichnen eine Sektion in der API Datei. 
Zu beachten ist, dass eine API Sektion mehrere xorg.conf Sektionen 
behandelt. Jede API Sektion hat folgenden Aufbau:
\begin{verbatim}
  <Name der Sektion> {
    KartenNummer Variable = Wert
    [ ... ]
  }
\end{verbatim}

%====================
% Pfad Variablen
%--------------------
\index{Section!Files}
\index{Section!Module}
\index{Section!ServerFlags}
\subsection{Path Sektion: X11: Files,Module und ServerFlags}
\begin{tabular}[h]{|p{5cm}|p{7cm}|}
 \hline
 \textbf{Variable}  & \textbf{Format}                \\
 \hline
 FontPath     & String,String,String,...                       \\
 RgbPath      & String,String,String,...                       \\ 
 ModulePath   & String,String,String,...                       \\
 ModuleLoad   & String,String,String,...                       \\
 Extmod       & Subsection,String\verb+\n+Subsectio,String,... \\ 
 SpecialFlags & Flagname,String\verb+\n+Flagname,String,...    \\
 ServerFlags  & String,String,String,...                       \\
 \hline
\end{tabular}

%==========================
% Graphikkarten Variablen
%--------------------------
\index{Section!Device}
\subsection{Card Sektion: X11: Device}
\begin{tabular}[h]{|p{5cm}|p{7cm}|}
 \hline
 \textbf{Variable}     & \textbf{Format}        \\
 \hline
 Identifier      & String                             \\
 Driver          & String                             \\
 Memory          & Integer                            \\
 BusID           & String                             \\
 Vendor          & String                             \\
 Name            & String                             \\
 DacChip         & String                             \\
 GraphicsChip    & String                             \\
 ClockChip       & String                             \\
 Clocks          & Clocks,Clocks,...                  \\
 Option          & String,String,...                  \\
 RawData         & String,String,...                  \\
 MaxDac          & Integer                            \\
 Screen          & Integer                            \\
 \hline
\end{tabular}


%====================
% Maus Variablen
%--------------------
\index{Section!InputDevice}
\subsection{Mouse Sektion: X11: InputDevice}
\begin{tabular}[h]{|p{5cm}|p{7cm}|}
 \hline
 \textbf{Variable}     & \textbf{Format}        \\
 \hline
 Identifier       & String                             \\
 Driver           & String                             \\
 Protocol         & String                             \\
 Device           & String                             \\
 Baudrate         & Integer                            \\
 Samplerate       & Integer                            \\
 Emulate3Buttons  & Yes \verb+|+ No                    \\
 Emulate3Timeout  & Integer                            \\
 ChordMiddle      & Yes \verb+|+ No                    \\
 MinX             & Integer                            \\
 MaxX             & Integer                            \\
 MinY             & Integer                            \\
 MaxY             & Integer                            \\
 TopX             & Integer                            \\
 TopY             & Integer                            \\
 BottomX          & Integer                            \\
 BottomY          & Integer                            \\
 Suppress         & Integer                            \\
 Serial           & Integer                            \\
 ScreenNumber     & Integer                            \\
 InputFashion     & Mouse \verb+|+ Tablet \verb+|+ Pen \verb+|+ Eraser \\
 ReportingMode    & String                             \\
 ButtonNumber     & Integer                            \\
 ButtonThreshold  & Integer                            \\
 SendCoreEvents   & Yes \verb+|+ No                    \\
 ClearDTR         & Yes \verb+|+ No                    \\
 ClearRTS         & Yes \verb+|+ No                    \\
 ZAxisMapping     & Off \verb+|+ None \verb+|+ ButtonX ButtonY \verb+|+ X \verb+|+ Y \\
 Vendor           & String                             \\
 Name             & String                             \\
 TabletMode       & String                             \\
 TabletType       & String                             \\
 \hline
\end{tabular}

%=========================
% Oberflaechen Variablen
%-------------------------
\index{Section!Monitor}
\index{Section!Modes}
\index{Section!Screen}
\subsection{Desktop Sektion: X11: Monitor,Modes und Screen}
\begin{tabular}[h]{|p{5cm}|p{7cm}|}
 \hline
 \textbf{Variable}     & \textbf{Format}        \\
 \hline
 Identifier                & String                          \\  
 Device                    & String                          \\
 Monitor                   & String                          \\
 VendorName                & String                          \\
 ModelName                 & String                          \\
 Virtual:(Farbtiefe)       & Integer Integer                 \\
 Visual:(Farbtiefe)        & String                          \\
 HorizSync                 & Sync                            \\
 VertRefresh               & Sync                            \\
 MonitorOptions            & String,String,...               \\
 ScreenOptions:(Farbtiefe) & String,String,...               \\
 Modelines                 & Modeline,Modeline,...           \\
 SpecialModeline           & Modeline,Modeline,...           \\
 ColorDepth                & Integer                         \\
 CalcModelines             & Yes \verb+|+ No                 \\
 CalcAlgorithm             & Algorithm                       \\
 ViewPort:(Farbtiefe)      & Integer Integer                 \\
 ScreenRawLine:(Farbtiefe) & String,String,...               \\
 Modes:(Farbtiefe)         & Mode,Mode,...                   \\
 ImportXFineCache          & Yes \verb+|+ No                 \\
 DisplaySize               & Integer Integer                 \\
 \hline
\end{tabular}\\

Der Wert \textit{(Farbtiefe)} kennzeichnet die Farbtiefe in Bit f"ur die
vorstehende Gr"o"se. Zum Beispiel: \textbf{0 Modes:8 = 640x480}. In 
Worten bedeutet dies, da"s in 8 Bit die Aufl"osung 640x480 festgelegt
wird. F"ur die Farbtiefe k"onnen folgende Werte festgelegt werden:
\begin{itemize}
\item 4,8,15,16,24 Bit
\end{itemize}
Prinzipiell kann jede ganze Zahl f"ur den Wert \textit{(Farbtiefe)}
eingesetzt werden, aber nur die oben genannten Werte werden zur Zeit
unterst"utzt.

%====================
% Layout Variablen
%--------------------
\index{Section!ServerLayout}
\subsection{Layout Sektion: X11: ServerLayout}
\begin{tabular}[h]{|p{5cm}|p{7cm}|}
 \hline
 \textbf{Variable}     & \textbf{Format}        \\
 \hline
 Identifier                 & String                   \\
 Keyboard                   & String                   \\
 InputDevice                & String,String,..         \\
 Xinerama                   & On \verb+|+ Off          \\
 Screen:(Identifier)        & Links Rechts Oben Unten  \\
 \hline
\end{tabular}\\

Der Wert \textit{(Identifier)} kennzeichnet den Namen des 
Bildschirms dessen Lage durch die Bildschirme Links,Rechts,Oberhalb
und Unterhalb von ihm beschrieben wird. In SaX2 hei"st dieser
\textit{(Identifier)} immer \textbf{Screen[nummer]}

%====================
% Tastatur Variablen
%--------------------
\subsection{Keyboard Sektion: X11: InputDevice}
\begin{tabular}[h]{|p{6cm}|p{7cm}|}
 \hline
 \textbf{Variable}     & \textbf{Format}        \\
 \hline
 Identifier       & String                             \\
 Driver           & String                             \\
 Protocol         & String                             \\
 XkbRules         & String                             \\
 XkbModel         & String                             \\
 XkbLayout        & String                             \\
 XkbVariant       & String                             \\
 XkbOptions       & String,String,...                  \\
 AutoRepeat       & String                             \\
 Xleds            & String                             \\
 XkbDisable       & Yes \verb+|+ None                  \\
 VTSysReq         & Yes \verb+|+ None                  \\
 VTInit           & String                             \\
 ServerNumLock    & Yes \verb+|+ None                  \\
 LeftAlt          & String                             \\
 RightAlt         & String                             \\
 ScrollLock       & String                             \\
 RightCtl         & String                             \\
 XkbKeyCodes      & String                             \\
 \hline
\end{tabular}

%====================
% Sample File
%--------------------
\newpage
\index{Beispiel API Datei}
\section{Beispiel Variablen API}
\begin{small}
\begin{verbatim}
Keyboard {
 0 Protocol         =    Standard
 0 XkbLayout        =    de
 0 Identifier       =    Keyboard[0]
 0 XkbModel         =    pc104
 0 Driver           =    keyboard
}

Mouse {
 1 Name             =    AutoDetected
 1 Identifier       =    Mouse[1]
 1 Driver           =    mouse
 1 Vendor           =    AutoDetected
 1 Device           =    /dev/pointer0
 1 Protocol         =    PS/2
 1 InputFashion     =    Mouse
}

Card {
 0 Name             =    RivaTNT
 0 Identifier       =    Device[0]
 0 BusID            =    1:0:0
 0 Driver           =    nv
 0 Vendor           =    Nvidia
}

Desktop {
 0 VertRefresh      =    50-160
 0 Device           =    Device[0]
 0 ModelName        =    Vision Master Pro 450 (A901HT)
 0 CalcModelines    =    yes
 0 Identifier       =    Screen[0]
 0 ColorDepth       =    16
 0 Monitor          =    Monitor[0]
 0 Modes:16         =    1800x1350,640x480
 0 HorizSync        =    27-115
 0 VendorName       =    Iiyama
}

Path {
 0 ModulePath       =    /usr/X11R6/lib/modules
 0 ServerFlags      =    AllowMouseOpenFail
 0 FontPath         =    /usr/X11R6/lib/X11/fonts/misc:unscaled
 0 ModuleLoad       =    dbe,type1,speedo,extmod,freetype
}

Layout {
 0 Screen:Screen[0] =    <none> <none> <none> <none>
 0 InputDevice      =    Mouse[1]
 0 Keyboard         =    Keyboard[0]
 0 Identifier       =    Layout[all]
}
\end{verbatim}
\end{small}

